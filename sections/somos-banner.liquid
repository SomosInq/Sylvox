<style>
  .section_width_standard,
  .section_width_full {
    transition: all 0.3s ease;
  }
  .section_width_full {
    width: 100%;
  }
  .section_width_standard {
    margin: 0 auto !important;
    width: 90% !important;
  }

  .section_content_width_standard,
  .section_content_width_full {
    transition: all 0.3s ease;
  }
  .section_content_width_full {
    width: 100%;
  }
  .section_content_width_standard {
    margin: 0 auto !important;
    width: 90% !important;
  }

  #shopify-section-{{ section.id }} {
    background-color: {{ section.settings.background_color }};
    height: {{ section.settings.section_height }}px;
    {% if section.settings.background_image != blank %}
      background-image: url({{ section.settings.background_image | img_url: 'master' }});
      background-size: cover;
      background-position: center;
    {% endif %}
  }
</style>

<div class="section_width_{{ section.settings.section_width }}">
  <div class="section_content_width_{{ section.settings.section_content_width }}">
    <div class="grid grid-cols-1">
      <div class="prose {{ section.settings.mobile_text_position }} {{ section.settings.desktop_text_position }}">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'subheading' %}
              {% if block.settings.text != blank %}
                <p class="bold" style="color: {{ block.settings.color }};" {{ block.shopify_attributes }}>
                  {{ block.settings.text | escape }}
                </p>
              {% endif %}

            {% when 'heading' %}
              {% if block.settings.text != blank %}
                <p class="{{ block.settings.heading_tag }}" style="color: {{ block.settings.color }};" {{ block.shopify_attributes }}>
                  {{ block.settings.text | escape }}
                </p>
              {% endif %}

            {% when 'richtext' %}
              {% if block.settings.content != blank %}
                <div style="color: {{ block.settings.color }};" {{ block.shopify_attributes }}>
                  {{ block.settings.content }}
                </div>
              {% endif %}

            {% when 'image' %}
              {% if block.settings.image != blank %}
                <img src="{{ block.settings.image | image_url: '800x' }}" style="width: {{ block.settings.image_width }}%;" alt="{{ block.settings.image.alt | escape }}" {{ block.shopify_attributes }}>
              {% endif %}

            {% when 'button' %}
              {% if block.settings.text != blank %}
                <a href="{{ block.settings.url }}" class="btn btn--{{ block.settings.style }} btn--{{ block.settings.size }}" style="color: {{ block.settings.text_color }}; background-color: {{ block.settings.background }}; border: {% if block.settings.style == 'outline' %}2px solid {{ block.settings.outline_color }}{% else %}none{% endif %};" {{ block.shopify_attributes }}>
                  {{ block.settings.text | escape }}
                </a>
              {% endif %}

          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Somos Banner",
  "settings": [
    {
      "type": "select",
      "id": "section_width",
      "label": "Section Width",
      "default": "standard",
      "options": [
        { "value": "standard", "label": "50% Width" },
        { "value": "full", "label": "Full Width" }
      ]
    },
    {
      "type": "select",
      "id": "section_content_width",
      "label": "Content Width",
      "default": "standard",
      "options": [
        { "value": "standard", "label": "50% Width" },
        { "value": "full", "label": "Full Width" }
      ]
    },
    {
  "type": "range",
  "id": "section_height",
  "label": "Section Height",
  "min": 200,
  "max": 1000,
  "step": 10,
  "default": 500,
  "unit": "px"
},
    { "type": "image_picker", "id": "background_image", "label": "Background Image" },
    { "type": "color", "id": "background_color", "label": "Background Color", "default": "#ffffff" },
    { "type": "range", "id": "padding_top", "label": "Padding Top", "min": 0, "max": 100, "default": 0, "unit": "px" },
    { "type": "range", "id": "padding_bottom", "label": "Padding Bottom", "min": 0, "max": 100, "default": 0, "unit": "px" },
    { "type": "range", "id": "padding_left", "label": "Padding Left", "min": 0, "max": 100, "default": 0, "unit": "px" },
    { "type": "range", "id": "padding_right", "label": "Padding Right", "min": 0, "max": 100, "default": 0, "unit": "px" },
    {
      "type": "select",
      "id": "mobile_text_position",
      "label": "Mobile Content Position",
      "default": "pos-middle-center",
      "options": [
        { "value": "pos-top-left", "label": "Top left" },
        { "value": "pos-top-center", "label": "Top center" },
        { "value": "pos-top-right", "label": "Top right" },
        { "value": "pos-middle-left", "label": "Middle left" },
        { "value": "pos-middle-center", "label": "Middle center" },
        { "value": "pos-middle-right", "label": "Middle right" },
        { "value": "pos-bottom-left", "label": "Bottom left" },
        { "value": "pos-bottom-center", "label": "Bottom center" },
        { "value": "pos-bottom-right", "label": "Bottom right" }
      ]
    },
    {
      "type": "select",
      "id": "desktop_text_position",
      "label": "Desktop Content Position",
      "default": "sm:pos-middle-center",
      "options": [
        { "value": "sm:pos-top-left", "label": "Top left" },
        { "value": "sm:pos-top-center", "label": "Top center" },
        { "value": "sm:pos-top-right", "label": "Top right" },
        { "value": "sm:pos-middle-left", "label": "Middle left" },
        { "value": "sm:pos-middle-center", "label": "Middle center" },
        { "value": "sm:pos-middle-right", "label": "Middle right" },
        { "value": "sm:pos-bottom-left", "label": "Bottom left" },
        { "value": "sm:pos-bottom-center", "label": "Bottom center" },
        { "value": "sm:pos-bottom-right", "label": "Bottom right" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "subheading",
      "name": "Subheading",
      "settings": [
        { "type": "text", "id": "text", "label": "Text" },
        { "type": "color", "id": "color", "label": "Color", "default": "#000000" }
      ]
    },
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        { "type": "text", "id": "text", "label": "Text" },
        { "type": "select", "id": "heading_tag", "label": "Tag", "options": [ { "value": "h1", "label": "H1" }, { "value": "h2", "label": "H2" }, { "value": "h3", "label": "H3" } ], "default": "h2" },
        { "type": "color", "id": "color", "label": "Color", "default": "#000000" }
      ]
    },
    {
      "type": "richtext",
      "name": "Paragraph",
      "settings": [
        { "type": "richtext", "id": "content", "label": "Content" },
        { "type": "color", "id": "color", "label": "Color", "default": "#000000" }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "range", "id": "image_width", "label": "Image Width (%)", "min": 10, "max": 100, "default": 100, "unit": "%" }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        { "type": "text", "id": "text", "label": "Button Text", "default": "Click Me" },
        { "type": "url", "id": "url", "label": "Button Link" },
        { "type": "select", "id": "style", "label": "Style", "options": [ { "value": "fill", "label": "Fill" }, { "value": "outline", "label": "Outline" } ], "default": "fill" },
        { "type": "select", "id": "size", "label": "Size", "options": [ { "value": "sm", "label": "Small" }, { "value": "base", "label": "Medium" }, { "value": "lg", "label": "Large" } ], "default": "base" },
        { "type": "color", "id": "text_color", "label": "Text Color", "default": "#ffffff" },
        { "type": "color", "id": "background", "label": "Background Color", "default": "#000000" },
        { "type": "color", "id": "outline_color", "label": "Outline Color", "default": "#000000" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Somos Banner",
      "category": "Somos Custom",
      "blocks": [
        { "type": "subheading", "settings": { "text": "Subheading" } },
        { "type": "heading", "settings": { "text": "Heading" } },
        { "type": "richtext" },
        { "type": "button", "settings": { "text": "Click Me" } }
      ]
    }
  ]
}
{% endschema %}
