{% schema %}
{
  "name": "Large product",
  "settings": [
     {
  "type": "select",
  "id": "section_width",
  "label": "Section Width",
  "default": "standard",
  "options": [
    {
      "value": "standard",
      "label": "50% Width"
    },
    {
      "value": "full",
      "label": "Full Width"
    }
  ]
},
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Outdoor Entertainment, Perfected"
    },
    {
      "type": "textarea",
      "id": "title",
      "label": "Title",
      "default": "Sylvox Deck Pro 2.0"
    },
    {
      "type": "image_picker",
      "id": "icon1",
      "label": "Icon 1"
    },
    {
      "type": "image_picker",
      "id": "icon2",
      "label": "Icon 2"
    },
    {
      "type": "image_picker",
      "id": "icon3",
      "label": "Icon 3"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "checkbox",
      "id": "show_title",
      "label": "Show product title",
      "default": true
    },
    {
      "type": "range",
      "id": "product_image_width",
      "label": "Product Image Width (px)",
      "min": 100,
      "max": 800,
      "step": 10,
      "default": 400
    },
{
  "type": "image_picker",
  "id": "product_image_override",
  "label": "Override Product Image"
},
    {
      "type": "text",
      "id": "price_text",
      "label": "Price Text",
      "default": "From USD $1,149.00"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Buy Now"
    },
     {"type": "range", "id": "padding_top", "label": "Padding top", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "padding_left", "label": "Padding left", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "padding_right", "label": "Padding right", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "margin_top", "label": "Margin top", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "margin_bottom", "label": "Margin bottom", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "margin_left", "label": "Margin left", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"},
    {"type": "range", "id": "margin_right", "label": "Margin right", "min": 0, "max": 100, "step": 5, "default": 0, "unit": "px"}
  ],
  "presets": [
    {
      "name": "Large product",
      "category": "Somos Custom"
    }
  ]
}
{% endschema %}



<div class="sylvox-section section_width_{{ section.settings.section_width }}" style="padding: {{ section.settings.padding_top }}px {{ section.settings.padding_right }}px {{ section.settings.padding_bottom }}px {{ section.settings.padding_left }}px; margin: {{ section.settings.margin_top }}px {{ section.settings.margin_right }}px {{ section.settings.margin_bottom }}px {{ section.settings.margin_left }}px">
  <p>{{ section.settings.subtitle }}</p>
  <h2>{{ section.settings.title | newline_to_br }}</h2>

  <div class="sylvox-icons">
    {% if section.settings.icon1 %}
      <img src="{{ section.settings.icon1 | image_url }}" alt="Icon 1" />
    {% endif %}
    {% if section.settings.icon2 %}
      <img src="{{ section.settings.icon2 | image_url }}" alt="Icon 2" />
    {% endif %}
    {% if section.settings.icon3 %}
      <img src="{{ section.settings.icon3 | image_url }}" alt="Icon 3" />
    {% endif %}
  </div>

  <div class="sylvox-products">
    {% if section.settings.product %}

      
      {% if section.settings.product_image_override %}
  <img 
    src="{{ section.settings.product_image_override | image_url: width: section.settings.product_image_width }}" 
    alt="Custom Product Image" 
    style="width: {{ section.settings.product_image_width }}px;"
  >
{% elsif section.settings.product and section.settings.product.featured_image %}
  <img 
    src="{{ section.settings.product.featured_image | image_url: width: section.settings.product_image_width }}" 
    alt="{{ section.settings.product.title }}" 
    style="width: {{ section.settings.product_image_width }}px;"
  >
{% endif %}


      {% if section.settings.show_title %}
        <p><strong>{{ section.settings.product.title }}</strong></p>
      {% endif %}
    {% endif %}
    <div class="featured-product-sizes">
      {%- liquid
        assign size_option = nil
        assign size_labels = 'resolution size,size,sizes,screen size,tv size,inch,inches,diagonal' | split: ','
        for opt in section.settings.product.options_with_values
          assign opt_name = opt.name | downcase | strip
          if size_labels contains opt_name
            assign size_option = opt
            break
          endif
        endfor
      -%}
      {%- if size_option and size_option.values and size_option.values.size > 1 -%}
        {%- for ov in size_option.values -%}
          {%- assign raw_val = ov.value | default: ov -%}
          {%- assign display_val = raw_val | strip
            | remove: '"' | remove: '”' | remove: '″'
            | remove: "'" | remove: '’' | remove: '‘' -%}

          {%- assign matched_variant = nil -%}
          {%- for v in section.settings.product.variants -%}
            {%- case size_option.position -%}
              {%- when 1 -%}{% if v.option1 == raw_val %}{% assign matched_variant = v %}{% break %}{% endif %}
              {%- when 2 -%}{% if v.option2 == raw_val %}{% assign matched_variant = v %}{% break %}{% endif %}
              {%- when 3 -%}{% if v.option3 == raw_val %}{% assign matched_variant = v %}{% break %}{% endif %}
            {%- endcase -%}
          {%- endfor -%}

          {%- if matched_variant -%}
            <a href="{{ matched_variant.url }}" data-instant class="pdc-size {% if matched_variant.url == section.settings.product.url %}active{% endif %} {% unless matched_variant.available %}is-sold-out{% endunless %}">
              <span class="product__title">
              {{ display_val }}
              </span>
            </a>
          {%- else -%}
            <span class="is-disabled">{{ display_val }}&Prime;</span>
          {%- endif -%}
        {%- endfor -%}
      {%- else -%}
        {% assign collections_by_suffix = collections.all.products | where: 'template_suffix', section.settings.product.template_suffix %}
        {% assign collections_by_suffix = collections_by_suffix | sort: 'title' %}
        {% for get_product in collections_by_suffix %}
            <a href="{{ get_product.url }}" class="pdc-size {% if get_product.url == section.settings.product.url %}active{% endif %}">
              <span class="product__title">
              {{ get_product.title | split : '"' | first}}"
              </span>
            </a>
        {% endfor %}
      {%- endif -%}
    </div>
  </div>

  <p style="margin-top: 20px;">{{ section.settings.price_text }}</p>
  <a href="{{ section.settings.button_link }}" class="button">
    {{ section.settings.button_label }}
  </a>
</div>
