{% style %}
.various-grid-wrapper {
  width: 100%;
}
.various-grid-inner {
  max-width: 1600px;
  margin: 0 auto;
}
.various-grid-top {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 40px;
}
.various-grid-top .left,
.various-grid-top .right {
  flex: 1 1 48%;
}
.various-grid-top .left img {
  max-width: 100%;
  height: auto;
  display: block;
}
.usp-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 30px;
  margin-top: 60px;
}
.usp-box {
  flex: 1 1 30%;
  max-width: 30%;
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
}
.usp-box img {
  margin: 0 auto 10px;
  display: block;
  height: auto;
}
@media screen and (max-width: 768px) {
  .various-grid-top {
    flex-direction: column;
  }
  .usp-box {
    max-width: 100%;
  }
}
{% endstyle %}

{% assign has_bg_image = false %}
{% if section.settings.bg_image != blank %}
  {% assign has_bg_image = true %}
{% endif %}

<div
  class="various-grid-wrapper section_width_{{ section.settings.section_width }}"
  style="
    background-color: {{ section.settings.bg_color }};
    {% if has_bg_image %}
      background-image: url({{ section.settings.bg_image | img_url: 'master' }});
      background-size: cover;
      background-repeat: no-repeat;
    {% endif %}
    padding: {{ section.settings.padding_top }}px {{ section.settings.padding_right }}px {{ section.settings.padding_bottom }}px {{ section.settings.padding_left }}px;
    margin: {{ section.settings.margin_top }}px {{ section.settings.margin_right }}px {{ section.settings.margin_bottom }}px {{ section.settings.margin_left }}px;
  "
>
  <div class="various-grid-inner section_content_width_{{ section.settings.section_content_width }}">
    <div class="various-grid-top">
      <div class="left">
        {% if section.settings.left_image %}
          <img src="{{ section.settings.left_image | img_url: 'master' }}" alt="Left Image" style="width: {{ section.settings.left_image_width }}%;">
        {% endif %}
      </div>
      <div class="right">
        {% if section.settings.icon %}
          <img src="{{ section.settings.icon | img_url: 'master' }}" alt="Heading Icon" style="width: 40px; margin-bottom: 10px;">
        {% endif %}
        <h2 style="color: {{ section.settings.heading_color }};">{{ section.settings.heading }}</h2>
        <p style="color: {{ section.settings.text_color }};">{{ section.settings.text }}</p>
      </div>
    </div>

    {% if section.blocks.size > 0 %}
      <div class="usp-grid">
        {% for block in section.blocks %}
          <div class="usp-box">
            {% if block.settings.icon %}
              <img src="{{ block.settings.icon | img_url: 'master' }}" alt="USP Icon" style="width: {{ block.settings.icon_size }}%;">
            {% endif %}
            <h3 style="color: {{ block.settings.title_color }};">{{ block.settings.title }}</h3>
            {% if block.settings.subtitle %}
              <p style="color: {{ block.settings.subtitle_color }}; font-style: italic;">{{ block.settings.subtitle }}</p>
            {% endif %}
            <p style="color: {{ block.settings.body_color }};">{{ block.settings.body }}</p>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</div>
