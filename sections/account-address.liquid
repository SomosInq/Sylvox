<div class="account-wrapper section_content_width_{{ section.settings.section_content_width }}">
  <aside class="account-sidebar">
    {% render 'account-sidebar' %}
  </aside>

  <main class="account-content section_width_{{ section.settings.section_width }}">

    <div class="account-addresses">
  <h2 class="account-addresses__title">Address</h2>

  <button class="add-address-button" onclick="Shopify.CustomerAddress.toggleNewForm();">
    + Add a new address
  </button>

<div id="AddAddress" style="display:none;">
  {% form 'customer_address', customer.new_address %}
    {% render 'address-form', form: form, address: customer.new_address %}
  {% endform %}
</div>


  <div class="address-grid">
    {% for address in customer.addresses %}
      <div class="address-card">
        <div class="address-card__top">
          <div>
            <strong>Address Name</strong><br>
            {{ address.address1 }}<br>
            {{ address.city }}, {{ address.province_code }} {{ address.zip }}<br>
            {{ address.country }}
          </div>
          <div class="address-card__phone">
            {{ address.phone }}
          </div>
        </div>

        {% if address == customer.default_address %}
          <div class="address-card__default">Default Shipping Address</div>
        {% endif %}

        <div class="address-card__actions">
          <a href="#" onclick="Shopify.CustomerAddress.toggleEditForm({{ address.id }}); return false;">Edit</a>
        </div>

        <div id="EditAddress_{{ address.id }}" style="display:none;">
  {% form 'customer_address', address %}
    {% render 'address-form', form: form, address: address %}
  {% endform %}
</div>

      </div>
    {% endfor %}
  </div>
</div>


{% comment %} <img src="https://cdn.shopify.com/s/files/1/0584/6256/8509/files/Sylvox-Website-_-Figma-08-08-2025_02_50_PM_2.png?v=1754661119" alt="Your Image"> {% endcomment %}

  </main>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    Shopify.CustomerAddress = {
      toggleNewForm: function () {
        const form = document.getElementById('AddAddress');
        if (form) form.style.display = form.style.display === 'none' ? 'block' : 'none';
      },
      toggleEditForm: function (id) {
        const form = document.getElementById('EditAddress_' + id);
        if (form) form.style.display = form.style.display === 'none' ? 'block' : 'none';
      }
    };
  });
</script>

<style>
  .account-wrapper {
    display: flex;
    gap: 40px;
    padding: 40px;
    align-items: flex-start;
  }
  .account-sidebar {
    width: 220px;
    flex-shrink: 0;
  }
  .account-content {
    flex: 1;
  }

  .account-addresses {
  margin: 0 auto;
    padding: 40px 20px;
}

.account-addresses__title {
  font-size: 24px;
  margin-bottom: 20px;
}


.address-form .input-row {
    display: flex;
    gap: 20px;
}
.address-form .form-control {
    flex: 1 1 100px;
    margin-bottom: 20px;
}
.address-form .input {
    width: 100%;
}

.add-address-button {
  border: 1px solid #20413B;
  border-radius: 999px;
  padding: 10px 20px;
  background: transparent;
  cursor: pointer;
  margin-bottom: 24px;
  font-size: 14px;
}

.address-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
}

.address-card {
  background-color: #fafafa;
  padding: 20px;
  border-radius: 10px;
  font-size: 14px;
  position: relative;
}

.address-card__top {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.address-card__default {
  color: #20413B;
  font-weight: bold;
  font-size: 13px;
  margin-bottom: 8px;
}

.address-card__actions a {
  font-size: 14px;
  text-decoration: underline;
}

</style>

{% schema %}
{
  "name": "Account Address",
  "settings": [
      {
      "type": "select",
      "id": "section_width",
      "label": "Section Width",
      "default": "standard",
      "options": [
        { "value": "standard", "label": "50% Width" },
        { "value": "full", "label": "Full Width" }
      ]
    },
    {
      "type": "select",
      "id": "section_content_width",
      "label": "Content Width",
      "default": "standard",
      "options": [
        { "value": "standard", "label": "50% Width" },
        { "value": "full", "label": "Full Width" }
      ]
    }
  ]
}
{% endschema %}
